[gd_scene load_steps=59 format=3 uid="uid://cva5ycbxyeb1t"]

[ext_resource type="Script" path="res://scripts/player.gd" id="1_lp3dt"]
[ext_resource type="Texture2D" uid="uid://bf84iyj6kmna7" path="res://art/characters/player.png" id="2_ef3jv"]
[ext_resource type="PackedScene" uid="uid://d0d64f6lbq7pr" path="res://scenes/inventory_ui.tscn" id="3_hereg"]
[ext_resource type="PackedScene" uid="uid://dy3nqplyogdpd" path="res://scenes/inventory_hotbar.tscn" id="4_vptv6"]

[sub_resource type="AtlasTexture" id="AtlasTexture_rgp3i"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 384, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_0i0j6"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 384, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_4uweu"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 384, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_0iitf"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 384, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_0vchh"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_s7f44"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_2i5iq"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_c5tqb"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_bikdo"]
atlas = ExtResource("2_ef3jv")
region = Rect2(192, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_xlvgk"]
atlas = ExtResource("2_ef3jv")
region = Rect2(240, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_pfh52"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 240, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_qtifn"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 240, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_btim7"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 240, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_cyvdn"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 240, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_busfe"]
atlas = ExtResource("2_ef3jv")
region = Rect2(192, 240, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_hr8e5"]
atlas = ExtResource("2_ef3jv")
region = Rect2(240, 240, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_etsgs"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 432, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ec83q"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 432, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rsjnm"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 432, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_b8yco"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 288, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_u56wo"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 288, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_tkga8"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 288, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_xmbio"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 288, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_7kct0"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_x4ouc"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ouj0f"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ufm76"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_vd55x"]
atlas = ExtResource("2_ef3jv")
region = Rect2(192, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rdtjt"]
atlas = ExtResource("2_ef3jv")
region = Rect2(240, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_4x68s"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_yye5g"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_lbo1i"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_liaod"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_86okh"]
atlas = ExtResource("2_ef3jv")
region = Rect2(192, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_tu8lc"]
atlas = ExtResource("2_ef3jv")
region = Rect2(240, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_sp1lh"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 336, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_uaw00"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 336, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_wc0ij"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 336, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ptohq"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 336, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ci61k"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_0a1xb"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_iho4o"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_vbdyk"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ypra4"]
atlas = ExtResource("2_ef3jv")
region = Rect2(192, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_3mv3t"]
atlas = ExtResource("2_ef3jv")
region = Rect2(240, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_vklbp"]
atlas = ExtResource("2_ef3jv")
region = Rect2(0, 192, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_bcnh7"]
atlas = ExtResource("2_ef3jv")
region = Rect2(48, 192, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_va63e"]
atlas = ExtResource("2_ef3jv")
region = Rect2(96, 192, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_yaj6d"]
atlas = ExtResource("2_ef3jv")
region = Rect2(144, 192, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_l0ysl"]
atlas = ExtResource("2_ef3jv")
region = Rect2(192, 192, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_442ql"]
atlas = ExtResource("2_ef3jv")
region = Rect2(240, 192, 48, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_w33xp"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rgp3i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0i0j6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4uweu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0iitf")
}],
"loop": true,
"name": &"back_attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0vchh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s7f44")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2i5iq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c5tqb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bikdo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xlvgk")
}],
"loop": true,
"name": &"back_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pfh52")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qtifn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_btim7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cyvdn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_busfe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hr8e5")
}],
"loop": true,
"name": &"back_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_etsgs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ec83q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rsjnm")
}],
"loop": true,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b8yco")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u56wo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tkga8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xmbio")
}],
"loop": true,
"name": &"front_attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7kct0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x4ouc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ouj0f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ufm76")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vd55x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rdtjt")
}],
"loop": true,
"name": &"front_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4x68s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yye5g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lbo1i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_liaod")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_86okh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tu8lc")
}],
"loop": true,
"name": &"front_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sp1lh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uaw00")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wc0ij")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ptohq")
}],
"loop": true,
"name": &"side_attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ci61k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0a1xb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iho4o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vbdyk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ypra4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3mv3t")
}],
"loop": true,
"name": &"side_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vklbp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bcnh7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_va63e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yaj6d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l0ysl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_442ql")
}],
"loop": true,
"name": &"side_walk",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_o2g5n"]
radius = 5.0

[sub_resource type="CircleShape2D" id="CircleShape2D_0c5ec"]
radius = 13.0

[node name="player" type="CharacterBody2D" groups=["player"]]
process_mode = 3
y_sort_enabled = true
collision_layer = 3
script = ExtResource("1_lp3dt")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_w33xp")
animation = &"side_idle"
offset = Vector2(0, -15)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -3)
shape = SubResource("CircleShape2D_o2g5n")

[node name="player_hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="player_hitbox"]
position = Vector2(1, -8)
shape = SubResource("CircleShape2D_0c5ec")

[node name="attack_cooldown" type="Timer" parent="."]
wait_time = 0.5

[node name="deal_attack_timer" type="Timer" parent="."]
wait_time = 0.5

[node name="world_cam" type="Camera2D" parent="."]
zoom = Vector2(5, 5)
limit_left = -32
limit_top = 0
limit_right = 2018
limit_bottom = 1294
limit_smoothed = true
rotation_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="cliff_side_cam" type="Camera2D" parent="."]
position = Vector2(0, -2)
zoom = Vector2(4, 4)
limit_left = 0
limit_top = -20
limit_right = 1153
limit_bottom = 657
limit_smoothed = true
rotation_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="healthbar" type="ProgressBar" parent="."]
modulate = Color(0.145098, 0.898039, 0.32549, 1)
offset_left = -9.0
offset_top = 7.0
offset_right = 171.0
offset_bottom = 37.0
scale = Vector2(0.1, 0.1)
show_percentage = false

[node name="regen_timer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[node name="InteractUI" type="CanvasLayer" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="InteractUI"]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -300.0
offset_top = -50.0
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 0
size_flags_vertical = 4
color = Color(0.192157, 0.376471, 0.321569, 0.839216)

[node name="Label" type="Label" parent="InteractUI/ColorRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -68.0
offset_top = -11.5
offset_right = 68.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 30
text = "Press P to pick up"

[node name="InventoryUI" type="CanvasLayer" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="InventoryUI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.192157, 0.376471, 0.321569, 1)

[node name="Label" type="Label" parent="InventoryUI/ColorRect"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -37.5
offset_top = 50.0
offset_right = 37.5
offset_bottom = 73.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 60
text = "Inventory
"

[node name="Inventory_UI" parent="InventoryUI/ColorRect" instance=ExtResource("3_hereg")]

[node name="InventoryHotbar" type="CanvasLayer" parent="."]

[node name="Inventory_Hotbar" parent="InventoryHotbar" instance=ExtResource("4_vptv6")]

[connection signal="body_entered" from="player_hitbox" to="." method="_on_player_hitbox_body_entered"]
[connection signal="body_exited" from="player_hitbox" to="." method="_on_player_hitbox_body_exited"]
[connection signal="timeout" from="attack_cooldown" to="." method="_on_attack_cooldown_timeout"]
[connection signal="timeout" from="deal_attack_timer" to="." method="_on_deal_attack_timer_timeout"]
[connection signal="timeout" from="regen_timer" to="." method="_on_regen_timer_timeout"]
